<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø§Ù„Ø¹Ù€ÙˆØ¯Ø© â€” Ø£Ø«Ø§Ø« Ù…Ø³ØªÙˆØ±Ø¯ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø© | Ù„ÙŠØ¨ÙŠØ§</title>
  <meta name="description" content="Ø£Ø«Ø§Ø« Ù…Ø³ØªÙˆØ±Ø¯ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø© Ù„Ù„Ù…ÙƒØ§ØªØ¨ ÙˆØ§Ù„Ù…Ù†Ø§Ø²Ù„ ÙÙŠ Ù„ÙŠØ¨ÙŠØ§. ØªØµÙØ­ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª ÙˆØ§Ø·Ù„Ø¨ Ø¹Ø±Ø¶ Ø³Ø¹Ø±." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/styles.css" />
  <link rel="stylesheet" href="/assets/css/rtl.css" />
  <link rel="stylesheet" href="/assets/css/location.css" />
</head>
<body>
  <header class="header">
    <div class="container header-inner">
      <div class="brand"><span data-i18n="brand">Ø§Ù„Ø¹Ù€ÙˆØ¯Ø©</span> <small>Alaouda</small></div>
      <nav class="nav" aria-label="Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ">
        <a href="/#home" data-i18n="nav_home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a href="/#about" data-i18n="nav_about">Ù…Ù† Ù†Ø­Ù†</a>
        <a href="/#products" data-i18n="nav_products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
        <a href="/store.html" data-i18n="nav_store">Ø§Ù„Ù…ØªØ¬Ø±</a>
        <a href="/#contact" data-i18n="nav_contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
      </nav>
      <button class="mobile-nav-toggle" aria-controls="mobile-menu" aria-expanded="false">â˜°</button>
      <div class="lang-switch" role="group" aria-label="ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©">
        <button id="lang-toggle-btn">EN</button>
      </div>
    </div>
  </header>

  <!-- Scroll progress bar -->
  <div class="scroll-progress" aria-hidden="true"></div>

  <div class="mobile-menu" id="mobile-menu" aria-hidden="true">
    <div class="mobile-drawer">
      <a href="/#home" data-i18n="nav_home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="/#about" data-i18n="nav_about">Ù…Ù† Ù†Ø­Ù†</a>
      <a href="/#products" data-i18n="nav_products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
      <a href="/store.html" data-i18n="nav_store">Ø§Ù„Ù…ØªØ¬Ø±</a>
      <a href="/#contact" data-i18n="nav_contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
    </div>
  </div>

  <!-- Landing Hero (full width) -->
  <section id="home" class="hero-landing" aria-label="Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©" style="--hero-bg: url('/wmremove-transformed.jpeg')">
    <div class="container content">
      <h1 class="title" data-i18n="tagline">Ø£Ø«Ø§Ø« Ù…Ø³ØªÙˆØ±Ø¯ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø© Ù„Ù„Ù…ÙƒØ§ØªØ¨ ÙˆØ§Ù„Ù…Ù†Ø§Ø²Ù„ ÙÙŠ Ù„ÙŠØ¨ÙŠØ§</h1>
      <p class="subtitle">ØªØ´ÙƒÙŠÙ„Ø© ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØ© ÙˆØ¹ØµØ±ÙŠØ© Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø±Ø§Ø­Ø©.</p>
      <div class="cta">
        <a class="btn btn-outline-light" href="/#products" data-i18n="cta_explore">ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
        <a class="btn btn-primary" href="/#contact" data-i18n="cta_contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
      </div>
    </div>
  </section>

  <main class="container">
    <!-- Featured categories (modern split) -->
    <section class="section featured-modern">
      <div class="featured-inner container">
        <div class="featured-content" style="text-align: right; margin-bottom: 16px;">
         <h2 class="section-title" data-i18n="featured_categories" data-reveal="up" style="text-align: center;">ØªØµÙ†ÙŠÙØ§Øª Ù…Ù…ÙŠØ²Ø©</h2>
        </div>
        <div class="featured-grid featured-grid-center">
          <article class="featured-card featured-card-large" data-reveal="left">
            <img src="/assets/img/catalog_images/ar-unsplash.jpg" alt="Ø£Ø«Ø§Ø« Ù…ÙƒØªØ¨ÙŠ" />
            <div class="overlay">
              <h3 data-i18n="office">Ø£Ø«Ø§Ø« Ù…ÙƒØªØ¨ÙŠ</h3>
              <small>Office Furniture</small>
            </div>
          </article>
          <article class="featured-card featured-card-large" data-reveal="right">
            <img src="/assets/img/catalog_images/jose-unsplash.jpg" alt="Ø£Ø«Ø§Ø« Ù…Ù†Ø²Ù„ÙŠ" />
            <div class="overlay">
              <h3 data-i18n="home">Ø£Ø«Ø§Ø« Ù…Ù†Ø²Ù„ÙŠ</h3>
              <small>Home Furniture</small>
            </div>
          </article>
        </div>
      </div>
    </section>



    <!-- Products -->
    <section id="products" class="section" data-animate>
      <h2 class="section-title" data-i18n="nav_products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
      <form id="filters" class="filters" data-animate>
        <div class="filter-field">
          <label for="filter-category" data-i18n="filter_category">Ø§Ù„ØªØµÙ†ÙŠÙ</label>
          <select id="filter-category" name="category">
            <option value="">Ø§Ù„ÙƒÙ„</option>
            <option value="office">Ù…ÙƒØªØ¨ÙŠ</option>
            <option value="home">Ù…Ù†Ø²Ù„ÙŠ</option>
          </select>
        </div>
        <div class="filter-field">
          <label for="filter-style" data-i18n="filter_style">Ø§Ù„Ø£Ø³Ù„ÙˆØ¨</label>
          <select id="filter-style" name="style">
            <option value="">Ø§Ù„ÙƒÙ„</option>
            <option value="modern">Ø­Ø¯ÙŠØ«</option>
            <option value="classic">ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ</option>
          </select>
        </div>
      </form>

      <div class="catalog-grid" id="productsList"></div>
    </section>

    <!-- Gallery Section -->

    <section id="gallery" class="section" data-animate>
      <h2 class="section-title" data-i18n="gallery">Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</h2>
      <div class="bento-gallery-grid">
        <div class="bento-card bento-span-2">
          <img src="/assets/img/catalog_images/ar-unsplash.jpg" alt="Ø£Ø«Ø§Ø« Ù…ÙƒØªØ¨ÙŠ" />
          <div class="gallery-caption">Ø£Ø«Ø§Ø« Ù…ÙƒØªØ¨ÙŠ<br><small>Office Furniture</small></div>
        </div>
        <div class="bento-card">
          <img src="/assets/img/catalog_images/jose-unsplash.jpg" alt="Ø£Ø«Ø§Ø« Ù…Ù†Ø²Ù„ÙŠ" />
          <div class="gallery-caption">Ø£Ø«Ø§Ø« Ù…Ù†Ø²Ù„ÙŠ<br><small>Home Furniture</small></div>
        </div>
        <div class="bento-card vertical-img">
          <img src="https://images.unsplash.com/photo-1519710164239-da123dc03ef4?auto=format&fit=crop&w=400&q=80" alt="Modern Sofa" />
          <div class="gallery-caption">ÙƒÙ†Ø¨Ø© Ø¹ØµØ±ÙŠØ©<br><small>Modern Sofa</small></div>
        </div>

        <div class="bento-card bento-span-2">
          <img src="https://images.unsplash.com/photo-1549187774-b4e9b0445b41?q=80&w=1200&auto=format&fit=crop" alt="Wooden Dining Table" />
          <div class="gallery-caption">Ø·Ø§ÙˆÙ„Ø© Ø·Ø¹Ø§Ù… Ø®Ø´Ø¨ÙŠØ©<br><small>Wooden Dining Table</small></div>
        </div>
        <div class="bento-card">
          <img src="https://images.unsplash.com/photo-1484101403633-562f891dc89a?q=80&w=1200&auto=format&fit=crop" alt="Minimalist Chair" />
          <div class="gallery-caption">ÙƒØ±Ø³ÙŠ Ø¨Ø³ÙŠØ·<br><small>Minimalist Chair</small></div>
        </div>
        <div class="bento-card">
          <img src="https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=800&q=80" alt="Cozy Bed" />
          <div class="gallery-caption">Ø³Ø±ÙŠØ± Ù…Ø±ÙŠØ­<br><small>Cozy Bed</small></div>
        </div>
      </div>
    </section>

    <!-- Partners -->
    <section class="section partners" data-animate>
      <h2 class="section-title" data-i18n="partners">Ø´Ø±ÙƒØ§Ø¤Ù†Ø§</h2>
      <div class="partners-grid" id="partnersList" aria-label="Ø´Ø±ÙƒØ§Ø¤Ù†Ø§"></div>
    </section>

    <!-- Clients -->
    <section id="clients" class="section clients" data-animate>
      <h2 class="section-title" data-i18n="clients">Ø¹Ù…Ù„Ø§Ø¤Ù†Ø§</h2>
      <div class="carousel" id="clientsCarousel" aria-label="Ø¹Ù…Ù„Ø§Ø¤Ù†Ø§"></div>
    </section>

    <!-- Location (above about) -->
    <section id="location" class="location-section" data-animate aria-label="Ø§Ù„Ù…ÙˆÙ‚Ø¹">
  <h2 class="section-title" data-i18n="Our Location" style="text-align:center;">Our Location</h2>
  <div class="location-map">
        <iframe title="Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø¹Ù€ÙˆØ¯Ø©" loading="lazy" allowfullscreen
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d32375.946674702847!2d13.1299!3d32.8709!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x13a8ebe4f5e3c7a7%3A0x0!2zR2FyZ2FyaXNoLCBUcmlwb2xpLCDZhdit2KfYptmK2Kkg2KfZhNi52YTZiNmE2KfYqiA!5e0!3m2!1sar!2sly!4v1700000000000"></iframe>
        <div class="location-card">
          <h3>LIBYA MODERN FURNITURE STORE</h3>
          <p><strong>Adress:</strong> Gargersh Street No:47 Tripoli/Libya</p>
          <a class="dir-link" target="_blank" rel="noopener" href="https://maps.google.com/?q=Gargash+Tripoli+Libya">
            <span>ğŸ“</span> Get Direction
          </a>
          <ul class="hours">
            <li><strong>Monday</strong> 10:00 am â€“ 21:30 pm</li>
            <li><strong>Tuesday</strong> 10:00 am â€“ 21:30 pm</li>
            <li><strong>Wednesday</strong> 10:00 am â€“ 21:30 pm</li>
            <li><strong>Thursday</strong> 10:00 am â€“ 21:30 pm</li>
            <li><strong>Friday</strong> â€“ closed</li>
            <li><strong>Saturday</strong> 10:00 am â€“ 21:30 pm</li>
            <li><strong>Sunday</strong> 10:00 am â€“ 21:30 pm</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- About (modern, screenshot style) -->
    <section id="about" class="section about-modern about-screenshot" aria-label="About Fonas Libya">
      <div class="about-screenshot-inner">
        <div class="about-screenshot-media">
          <img class="about-screenshot-img" src="https://images.unsplash.com/photo-1524758631624-e2822e304c36?q=80&w=800&auto=format&fit=crop" alt="Office" loading="lazy" />
          <div class="about-screenshot-badge outside-badge">
            <div class="badge-logo">
              <img src="/assets/img/logo.png" alt="Alaouda Group" style="height:48px;width:auto;display:block;margin:0 auto 8px;" />
            </div>
            <div class="badge-title">Ø§Ù„Ø¹ÙˆØ¯Ø©<br><span style='font-size:1.1em;font-weight:700;'>Alaouda Group</span></div>
          </div>
        </div>
        <div class="about-screenshot-content">
          <div class="about-screenshot-blob"></div>
          <div class="about-screenshot-title-block">
            <h2 class="about-screenshot-title"><span style="font-family:'Tajawal',sans-serif;font-weight:700;letter-spacing:0.5px;">About <span style="color:#0080d6;">Alaouda</span></span></h2>
            <!-- Only one underline below the title -->
           
          </div>
          <p class="about-screenshot-text">Alaouda started in furniture business as a family business, focusing on importing quality office and home furniture. Our suppliers are from Malaysia, China, Turkey and Italy.</p>
          <a class="about-screenshot-btn" href="/#contact">
            Read More <span class="about-arrow" style="font-size:1.2em;vertical-align:-2px;">&#8594;</span>
          </a>
        </div>
      </div>
    </section>
    <style>
    .about-screenshot-inner {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 3.5rem;
      position: relative;
      min-height: 420px;
      margin-block: 2.5rem 2.5rem;
    }
    [dir="rtl"] .about-screenshot-inner {
      flex-direction: row-reverse;
    }
    .about-screenshot-media {
      position: relative;
      flex: 1 1 600px;
      max-width: 700px;
      min-width: 340px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .about-screenshot-img {
      width: 100%;
      min-height: 340px;
      min-width: 340px;
      max-width: 700px;
      border-radius: 18px;
      box-shadow: 0 8px 32px 0 rgba(0,0,0,0.10);
      display: block;
      object-fit: cover;
    }
    .about-screenshot-badge {
      position: absolute;
      top: -32px;
      right: -32px;
      left: auto;
      background: #0a4e7c;
      color: #fff;
      border-radius: 24px;
      padding: 1.2rem 2.2rem 1rem 2.2rem;
      min-width: 220px;
      min-height: 80px;
      box-shadow: 0 4px 32px 0 rgba(24,95,163,0.18);
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 1.15rem;
      font-weight: 700;
      z-index: 2;
      /* part outside image */
    }
    [dir="rtl"] .about-screenshot-badge {
      right: auto;
      left: -32px;
    }
    .about-screenshot-title-block {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 2.2rem;
    }
    .about-screenshot-title {
      font-size: 2.7rem;
      font-weight: 700;
      color: #185fa3;
      margin-bottom: 0.5rem;
      letter-spacing: 0.5px;
      z-index: 1;
      text-align: center;
    }
    .about-screenshot-title-underline {
      width: 140px;
      height: 6px;
      background: linear-gradient(90deg, #0080d6 60%, #e0eafc 100%);
      border-radius: 4px;
      display: block;
    }
    .about-arrow {
      display: inline-block;
      transition: transform 0.2s;
    }
    [dir="rtl"] .about-arrow {
      content: '\2192';
    }
    [dir="rtl"] .about-arrow {
      font-family: inherit;
    }
    [dir="rtl"] .about-arrow {
      direction: rtl;
    }
    [dir="rtl"] .about-arrow {
      /* Use right arrow for RTL */
      font-family: inherit;
    }
    [dir="rtl"] .about-arrow {
      /* Actually swap the arrow using JS for best compatibility */
    }
    .about-screenshot-badge .badge-title {
      font-size: 1.2em;
      font-weight: 700;
      line-height: 1.3;
    }
    .about-screenshot-content {
      flex: 1 1 520px;
      min-width: 320px;
      max-width: 700px;
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: center;
      padding: 2.5rem 0 2.5rem 0;
    }
    [dir="rtl"] .about-screenshot-content {
      align-items: flex-end;
      text-align: right;
    }
    .about-screenshot-blob {
      position: absolute;
      top: -60px;
      left: 0;
      right: -120px;
      bottom: -60px;
      z-index: 0;
      background: radial-gradient(ellipse 70% 60% at 80% 40%, rgba(0,64,255,0.10) 0%, rgba(0,64,255,0.04) 60%, rgba(255,255,255,0.0) 100%);
      border-radius: 50% 60% 60% 50%/60% 50% 60% 50%;
      pointer-events: none;
      filter: blur(0.5px);
    }
    .about-screenshot-title {
      font-size: 2.7rem;
      font-weight: 700;
      color: #185fa3;
      margin-bottom: 1.2rem;
      letter-spacing: 0.5px;
      z-index: 1;
    }
    .about-screenshot-text {
      font-size: 1.25rem;
      color: #5a6170;
      margin-bottom: 2.5rem;
      line-height: 1.7;
      z-index: 1;
      max-width: 600px;
    }
    .about-screenshot-btn {
      display: inline-block;
      font-size: 1.25rem;
      color: #0a4e7c;
      background: #fff;
      border: 2px solid #0a4e7c;
      border-radius: 10px;
      padding: 0.9em 2.5em;
      font-weight: 700;
      letter-spacing: 0.5px;
      transition: background 0.2s, color 0.2s, border 0.2s;
      text-decoration: none;
      z-index: 1;
    }
    .about-screenshot-btn:hover {
      background: #0a4e7c;
      color: #fff;
      border-color: #0a4e7c;
    }
    @media (max-width: 1100px) {
      .about-screenshot-inner {
        gap: 1.5rem;
      }
      .about-screenshot-content {
        padding: 1.5rem 0 1.5rem 0;
      }
      .about-screenshot-title {
        font-size: 2rem;
      }
    }
    @media (max-width: 800px) {
      .about-screenshot-inner {
        flex-direction: column;
        gap: 2.5rem;
        min-height: unset;
      }
      .about-screenshot-media, .about-screenshot-content {
        min-width: 0;
        max-width: 100%;
      }
      .about-screenshot-badge {
        min-width: 220px;
        padding: 1.2rem 1.2rem 1rem 1.2rem;
        font-size: 1rem;
      }
      .about-screenshot-title {
        font-size: 1.3rem;
      }
      .about-screenshot-text {
        font-size: 1rem;
      }
    }
    </style>

    <!-- Contact -->
    <section id="contact" class="section contact-section" data-animate>
      <h2 class="section-title" data-i18n="contact_title">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
      <div class="contact-grid">
        <div class="contact-card">
          <div id="nurui-contact-root"></div>
        </div>
        <div class="contact-info-card">
          <p><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> <a href="tel:+218000000000">+218 000 000 000</a></p>
          <p><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯:</strong> <a href="mailto:info@alaouda.ly">info@alaouda.ly</a></p>
          <p><strong data-i18n="business_hours">Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„</strong>: 9:00 â€” 18:00</p>
        </div>
      </div>
    </section>
  </main>

  <a class="whatsapp-fab" href="https://wa.me/218000000000" target="_blank" rel="noopener" aria-label="ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨">
  <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
    <path d="M20.52 3.48A11.86 11.86 0 0 0 12.06 0C5.5 0 .2 5.3.2 11.86c0 2.09.54 4.11 1.57 5.9L0 24l6.39-1.67a11.83 11.83 0 0 0 5.67 1.45h.01c6.56 0 11.86-5.3 11.86-11.86 0-3.17-1.23-6.16-3.41-8.34ZM12.05 21.2h-.01a9.34 9.34 0 0 1-4.76-1.3l-.34-.2-3.79 1 1.01-3.69-.22-.38a9.33 9.33 0 1 1 8.11 4.57Zm5.4-7.03c-.3-.15-1.77-.87-2.05-.97-.27-.1-.47-.15-.66.15-.2.3-.76.97-.93 1.17-.17.2-.34.22-.64.07-.3-.15-1.26-.47-2.4-1.5-.88-.78-1.47-1.74-1.64-2.04-.17-.3-.02-.46.13-.6.13-.13.3-.34.45-.51.15-.17.2-.29.3-.49.1-.2.05-.37-.02-.52-.07-.15-.66-1.6-.9-2.2-.24-.58-.48-.5-.66-.51h-.56c-.2 0-.52.07-.8.37-.27.3-1.05 1.03-1.05 2.5 0 1.47 1.08 2.9 1.23 3.1.15.2 2.12 3.23 5.14 4.53.72.31 1.28.49 1.72.63.72.23 1.38.2 1.9.12.58-.09 1.77-.72 2.02-1.41.25-.7.25-1.3.17-1.41-.08-.11-.3-.18-.6-.33Z"/>
  </svg>
  <span class="label">ÙˆØ§ØªØ³Ø§Ø¨</span>
</a>


  <div id="react-footer"></div>
  <script type="text/babel" data-presets="react" src="/assets/js/gallery-react-entry.jsx"></script>
  <script type="text/babel">
    ReactDOM.createRoot(document.getElementById('react-gallery-root')).render(React.createElement(GalleryEntry));
  </script>

  <!-- React + ReactDOM + Babel (for JSX in browser) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Babel for in-browser JSX transform -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- Footer component (JSX transpiled by Babel) -->
  <script type="text/babel" data-presets="react" src="/assets/js/footer-react.jsx"></script>

  <!-- NurUI ContactForm React entry -->
  <script type="module" src="/assets/js/contact-react-entry.jsx"></script>

  <script>
    // Provide #year fallback if referenced elsewhere
    (function ensureYearSpan(){
      if (!document.getElementById('year')) {
        const span = document.createElement('span');
        span.id = 'year';
        span.hidden = true;
        document.body.appendChild(span);
      }
    })();
  </script>


  <script type="module">
    import './assets/js/main.js';
    import { initCarousel, initMarquee } from './assets/js/ui/carousel.js';

    // --- Arrow direction logic for About section ---
    function updateAboutArrowDirection() {
      const arrow = document.querySelector('.about-screenshot-btn .about-arrow');
      if (!arrow) return;
      const dir = document.documentElement.getAttribute('dir') || 'ltr';
      // Unicode: â† (8592) for LTR, â†’ (8594) for RTL
      arrow.textContent = dir === 'rtl' ? '\u2192' : '\u2190';
    }
    // Initial set
    updateAboutArrowDirection();
    // Listen for language/dir changes (if language toggle changes dir)
    const langBtn = document.getElementById('lang-toggle-btn');
    if (langBtn) {
      langBtn.addEventListener('click', function() {
        // Wait for possible dir change
        setTimeout(updateAboutArrowDirection, 50);
      });
    }
    // Also observe changes to dir attribute (for robustness)
    const observer = new MutationObserver(() => updateAboutArrowDirection());
    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['dir'] });

    // Smooth scroll for same-page anchors and close mobile menu
    function setupAnchorNav() {
      const overlay = document.getElementById('mobile-menu');
      document.querySelectorAll('a[href^="/#"]').forEach(a => {
        a.addEventListener('click', (e) => {
          const url = new URL(a.href, location.origin);
          const hash = url.hash; // like #about or #contact?product=123
          if (!hash) return;
          e.preventDefault();
          const [idPart] = hash.replace('#','').split('?');
          const target = document.getElementById(idPart);
          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
          // Preserve possible product param in hash
          if (hash.includes('?')) {
            history.replaceState(null, '', `/${hash}`);
          } else {
            history.replaceState(null, '', `/${hash}`);
          }
          if (overlay) overlay.classList.remove('open');
        });
      });
    }

    // Partners (replace testimonials)
    fetch('/data/partners.json').then(r=>r.json()).then(items=>{
      const list = document.getElementById('partnersList');
      if (!list) return;
      list.innerHTML = items.map(p => `
        <a class="partner-card" href="${p.url || '#'}" target="_blank" rel="noopener" aria-label="${p.name}">
          <img src="${p.logo}" alt="${p.name}" loading="lazy" />
        </a>
      `).join('');
    });

    // Clients carousel
    fetch('/data/clients.json').then(r=>r.json()).then(items=>{
      const wrap = document.getElementById('clientsCarousel');
      if (!wrap) return;
      // Logo-only items (no boxes)
      wrap.innerHTML = items.map(c => `
        <div class="carousel-item" style="min-width:180px; display:flex; align-items:center; justify-content:center;">
          <img src="${c.logo}" alt="${c.name}" style="max-width:140px; height:auto; object-fit:contain;" loading="lazy" />
        </div>
      `).join('');
      // Ensure overflow exists on wide screens by duplicating items
      const original = wrap.innerHTML;
      let repeats = 0;
      while (wrap.scrollWidth <= wrap.clientWidth && repeats < 3) {
        wrap.innerHTML += original;
        repeats++;
      }
      // Continuous smooth marquee (slow and consistent)
      initMarquee(wrap, { speed: 20 }); // ~20px/sec
    });

    // Products listing + filters
    const listEl = document.getElementById('productsList');
    const form = document.getElementById('filters');

    function productCard(p) {
      const name = document.documentElement.lang === 'ar' ? p.name_ar : p.name_en;
      const desc = document.documentElement.lang === 'ar' ? p.desc_ar : p.desc_en; // kept for future use in a modal/details
      return `
        <article class="catalog-card reveal-on-scroll">
          <div class="media">
            <img src="${p.images[0]}" alt="${name}" loading="lazy" />
            <div class="caption">
              <h3>${name}</h3>
            </div>
          </div>
        </article>`;
    }

    function applyFilters(data) {
      const params = new URLSearchParams(new FormData(form));
      const cat = params.get('category');
      const style = params.get('style');
      const filtered = data.filter(p => (!cat || p.category === cat) && (!style || p.style === style));
      // reflect filters in URL as search (optional). Keep hash intact.
      const currentHash = location.hash || '#products';
      const query = params.toString();
      const url = query ? `${currentHash}?${query}` : currentHash;
      history.replaceState(null, '', `/${url}`);
      listEl.innerHTML = filtered.map(productCard).join('') || '<div style="grid-column:1/-1;opacity:.65;text-align:center;padding:24px">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± Ù…Ø·Ø§Ø¨Ù‚Ø© â€” No items match</div>';
      // ensure newly rendered product cards get reveal animation
      document.querySelectorAll('#productsList .catalog-card').forEach(el => {
        el.classList.add('reveal-on-scroll');
      });
    }

    async function initProducts(){
      const products = await fetch('/data/products.json').then(r=>r.json());
      // Initialize filters from URL (from hash query if present, fallback to search)
      (function initFiltersFromUrl(){
        let q = '';
        if (location.hash && location.hash.includes('?')) {
          q = location.hash.split('?')[1];
        } else if (location.search) {
          q = location.search.slice(1);
        }
        const init = new URLSearchParams(q);
        form.category.value = init.get('category') || '';
        form.style.value = init.get('style') || '';
      })();

      applyFilters(products);
      form.addEventListener('change', () => applyFilters(products));
    }
    initProducts().catch(err => { console.error('Products init failed:', err); const el = document.getElementById('productsList'); if (el) el.innerHTML = '<div style="grid-column:1/-1;color:crimson;padding:24px;text-align:center">Failed to load products.</div>'; });

    // Contact form
    const statusEl = document.getElementById('status');
    function validateEmail(v){ return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v); }
    function validatePhone(v){ return /^[0-9+\-\s]{6,}$/.test(v); }
    const formEl = document.getElementById('contactForm');
    formEl.addEventListener('submit', async (e) => {
      e.preventDefault();
      statusEl.textContent = '';
      const data = Object.fromEntries(new FormData(formEl));
      if (data.honeypot) return; // spam
      if (!data.name || !data.message || !validateEmail(data.email) || !validatePhone(data.phone)) {
        statusEl.textContent = document.documentElement.lang==='ar' ? 'ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„' : 'Please check the fields';
        statusEl.style.color = 'crimson';
        return;
      }
      try {
        await new Promise(r => setTimeout(r, 700));
        statusEl.textContent = document.documentElement.lang==='ar' ? 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­.' : 'Your message has been sent successfully.';
        statusEl.style.color = 'green';
        formEl.reset();
      } catch (e) {
        statusEl.textContent = document.documentElement.lang==='ar' ? 'Ø­Ø¯Ø« Ø®Ø·Ø£ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ù‹Ø§.' : 'An error occurred, please try again.';
        statusEl.style.color = 'crimson';
      }
    });

    // Pre-fill product from URL (supports hash query and search)
    (function prefillProduct(){
      let q = '';
      if (location.hash && location.hash.includes('?')) q = location.hash.split('?')[1];
      else if (location.search) q = location.search.slice(1);
      const params = new URLSearchParams(q);
      const productRef = params.get('product');
      if (productRef) document.getElementById('productRef').value = productRef;
    })();

    // Scroll to hash target on load (if any)
    (function scrollToInitial(){
      if (!location.hash) return;
      const id = location.hash.replace('#','').split('?')[0];
      const el = document.getElementById(id);
      if (el) setTimeout(()=> el.scrollIntoView({ behavior: 'smooth', block: 'start' }), 50);
    })();

    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Init extras
    setupAnchorNav();
  </script>
</body>
</html>